-- CREAMOS LA BASE DE DATOS

CREATE SCHEMA `university_schema`;


-- CREAMOS LAS TABLAS

CREATE TABLE `university_schema`.`students` (
  `student_id` INT NOT NULL AUTO_INCREMENT,
  `student_name` VARCHAR(45) NULL,
  PRIMARY KEY (`student_id`),
  UNIQUE INDEX `student_id_UNIQUE` (`student_id` ASC) VISIBLE);

CREATE TABLE `university_schema`.`professors` (
  `professor_id` INT NOT NULL AUTO_INCREMENT,
  `professor_name` VARCHAR(45) NULL,
  PRIMARY KEY (`professor_id`),
  UNIQUE INDEX `professor_id_UNIQUE` (`professor_id` ASC) VISIBLE);

CREATE TABLE `university_schema`.`courses` (
  `course_id` INT NOT NULL AUTO_INCREMENT,
  `course_subject` VARCHAR(45) NULL,
  PRIMARY KEY (`course_id`),
  UNIQUE INDEX `course_id_UNIQUE` (`course_id` ASC) VISIBLE);

CREATE TABLE `university_schema`.`grades` (
  `grades_id` INT NOT NULL AUTO_INCREMENT,
  `grades_student_id` INT NULL,
  `grades_professor_id` INT NULL,
  `grades_course_id` INT NULL,
  PRIMARY KEY (`grades_id`),
  UNIQUE INDEX `grades_id_UNIQUE` (`grades_id` ASC) VISIBLE,
  INDEX `grades_student_id_idx` (`grades_student_id` ASC) VISIBLE,
  INDEX `grades_course_id_idx` (`grades_course_id` ASC) VISIBLE,
  INDEX `grades_professor_id_idx` (`grades_professor_id` ASC) VISIBLE,
  CONSTRAINT `grades_student_id`
    FOREIGN KEY (`grades_student_id`)
    REFERENCES `university_schema`.`students` (`student_id`)
    ON DELETE CASCADE
    ON UPDATE NO ACTION,
  CONSTRAINT `grades_professor_id`
    FOREIGN KEY (`grades_professor_id`)
    REFERENCES `university_schema`.`professors` (`professor_id`)
    ON DELETE CASCADE
    ON UPDATE NO ACTION,
  CONSTRAINT `grades_course_id`
    FOREIGN KEY (`grades_course_id`)
    REFERENCES `university_schema`.`courses` (`course_id`)
    ON DELETE CASCADE
    ON UPDATE NO ACTION);
    
ALTER TABLE `university_schema`.`grades` 
ADD COLUMN `grades_values` INT NULL AFTER `grades_course_id`;


-- DATOS PARA RELLENAR LA TABLA STUDENTS

USE university_schema;

INSERT INTO students(student_name)
VALUE ("Kris Kros");

INSERT INTO students(student_name)
VALUE ("Matias Lopez");

INSERT INTO students(student_name)
VALUE ("Raul Gonzalez");

INSERT INTO students(student_name)
VALUE ("Cristiano Mesi");

INSERT INTO students(student_name)
VALUE ("Alberto Zapata");




-- DATOS PARA RELLENAR LA TABLA COURSES

USE university_schema;

INSERT INTO courses(course_subject)
VALUE ("Python");

INSERT INTO courses(course_subject)
VALUE ("Javascript");

INSERT INTO courses(course_subject)
VALUE ("React");

INSERT INTO courses(course_subject)
VALUE ("SCSS");

INSERT INTO courses(course_subject)
VALUE ("Angular");





-- DATOS PARA RELLENAR LA TABLA PROFESSORS

USE university_schema;

INSERT INTO professors(professor_name)
VALUE ("Francisco Campos");

INSERT INTO professors(professor_name)
VALUE ("Alberto Rodrigo");

INSERT INTO professors(professor_name)
VALUE ("Gustavo Rafael");





-- DATOS PARA RELLENAR LA TABLA GRADES

USE university_schema;

INSERT INTO grades(grades_course_id, grades_student_id, grades_professor_id, grades_values)
VALUES (3, 2, 1, 7 );

INSERT INTO grades(grades_course_id, grades_student_id, grades_professor_id, grades_values)
VALUES (1, 3, 2, 10);

INSERT INTO grades(grades_course_id, grades_student_id, grades_professor_id, grades_values)
VALUES (2, 1, 1, 6);

INSERT INTO grades(grades_course_id, grades_student_id, grades_professor_id, grades_values)
VALUES (4, 3, 2, 6);

INSERT INTO grades(grades_course_id, grades_student_id, grades_professor_id, grades_values)
VALUES (4, 5, 3, 4);

INSERT INTO grades(grades_course_id, grades_student_id, grades_professor_id, grades_values)
VALUES (3, 2, 2, NULL);

INSERT INTO grades(grades_course_id, grades_student_id, grades_professor_id, grades_values)
VALUES (5, 5, 1, NULL);

INSERT INTO grades(grades_course_id, grades_student_id, grades_professor_id, grades_values)
VALUES (1, 1, 1, 10);

INSERT INTO grades(grades_course_id, grades_student_id, grades_professor_id, grades_values)
VALUES (2, 2, 2, 1);

INSERT INTO grades(grades_course_id, grades_student_id, grades_professor_id, grades_values)
VALUES (1, 1, 1, 5);






















